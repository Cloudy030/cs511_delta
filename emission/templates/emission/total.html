{% load static %}
<html>
  <head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'emission/style.css' %}">
    <title>Total Emission</title>
  </head>
<body>

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid d-flex justify-content-center">
    <div class="navbar" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'index' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'per_capita' %}">Per Capita Emission</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="{% url 'total' %}">Total Emission</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

        <div class="container">

      <div class="row">
        <div class="col-md-4 blog-main">
<div class="blog-post py-5">
  <div class="row">
    <div class="col-md-8">
      <h2 class="mb-3 text-white" >Understanding Carbon Dioxide Emissions</h2>
      <p class="text-white">Carbon dioxide (CO2) emissions are a major contributor to climate change, and understanding their impact and trends is crucial for addressing the issue. This chart shows the growth of global CO2 emissions from the mid-18th century to today.</p>
      <p class="text-white">Before the Industrial Revolution, emissions were very low. However, emissions began to increase rapidly in the mid-20th century, with global emissions reaching 6 billion tonnes of CO2 in 1950. By 1990, emissions had almost quadrupled, reaching more than 22 billion tonnes. Today, we emit over 34 billion tonnes of CO2 each year.</p>
      <p class="text-white">Although emissions growth has slowed in recent years, they have yet to reach their peak. It is crucial that we take action to reduce carbon emissions in order to mitigate the effects of climate change and protect our planet.</p>
    </div>
  </div>
</div>
</div><!-- /.blog-main -->

<aside class="col-md-8 blog-sidebar py-5">
<div class="p-5 rounded position-relative" style="height: 700px;font-size: 16px; background-color:#e2edf3">

  <h4 class="font-italic">Annual CO2 emissions</h4>
  <nav class="my-nav">
    <ul class="nav nav-pills flex-row mt-3 my-nav-list">
      <li class="nav-item mr-auto">
        <a class="nav-link active" href="{% url 'total' %}">Table</a>
      </li>
      <li class="nav-item mr-auto">
        <a class="nav-link" href="{% url 'totalemission_chart' %}">Chart</a>
      </li>
      <li class="nav-item mr-auto">
        <a class="nav-link" href="{% url 'totalemission_map' %}">Graph</a>
      </li>
    </ul>
                {% block content %}
                {% endblock %}
            {% block table %}
            <!-- filter search bar -->
            <form method="POST" action="{%url 'totalfilter' %}">
        {% csrf_token %}
        <select id="yfilter" name="yfilter" year="year">
            <option selected disabled=true>--Select Year--</option>
            {% for year in years %}
            <option value="{{ year.year }}">{{ year.year }}</option>
            {% endfor %}
      </select>
      <select id="cfilter" name="cfilter" country="country">
            <option selected disabled=true>--Select Country--</option>
            {% for country in countries %}
            <option value="{{ country.id }}">{{ country.country_name }}</option>
            {% endfor %}
      </select>
        <!-- <div class="mb-3 d-inline-block">
          <label for="year" class="form-label">year:</label>
          <input type="dropdown" class="form-control" id="year">
        </div> -->

        <button type="submit" class="btn btn-primary">Search</button>
      </form>
{% if page_obj %}
<div class="table-responsive">
    <table class="my-table">
      <thead>
        <tr>
          <th>Country</th>
          <th>Year</th>
          <th>Total</th>
          <th>Coal</th>
          <th>Oil</th>
          <th>Gas</th>
          <th>Cement</th>
          <th>Flaring</th>
        </tr>
      </thead>
      <tbody>
        {% for totalemission in page_obj %}
  <tr>
    <td>{{totalemission.country}}</td>
    <td>{{totalemission.year}}</td>
    <td>{{totalemission.total}}</td>
    <td>{{totalemission.coal}}</td>
    <td>{{totalemission.oil}}</td>
    <td>{{totalemission.gas}}</td>
    <td>{{totalemission.cement}}</td>
    <td>{{totalemission.flaring}}</td>
  </tr>
{% endfor %}

      </tbody>
    </table>
    {% else %}
<p>No total emissions available.</p>
{% endif %}


<div class="pagination my-5">
  <ul class="pagination justify-content-center">
    {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page=1">&laquo; First</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">&lsaquo; Previous</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <span class="page-link">&laquo; First</span>
      </li>
      <li class="page-item disabled">
        <span class="page-link">&lsaquo; Previous</span>
      </li>
    {% endif %}

    {% for num in page_obj.paginator.page_range %}
      {% if page_obj.number == num %}
        <li class="page-item active">
          <span class="page-link">{{ num }} <span class="sr-only">(current)</span></span>
        </li>
      {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
        <li class="page-item">
          <a class="page-link" href="?page={{ num }}">{{ num }}</a>
        </li>
      {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next &rsaquo;</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <span class="page-link">Next &rsaquo;</span>
      </li>
      <li class="page-item disabled">
        <span class="page-link">Last &raquo;</span>
      </li>
    {% endif %}
  </ul>
</div>

</div>
{% endblock %}

                
  </nav>
</div>

</aside>
      </div>
    </div>
  </body>
</html>
